/*! For license information please see bundle.js.LICENSE.txt */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.magicchat_io=t():e.magicchat_io=t()}(this,(()=>(()=>{"use strict";var e={56:(e,t,n)=>{e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},68:(e,t,n)=>{n.d(t,{A:()=>s,j:()=>c});var r=n(601),o=n.n(r),a=n(314),i=n.n(a)()(o());i.push([e.id,".myButton__lK0bE {\n  background: red;\n  color: white;\n  padding: 10px 20px;\n  border: none;\n  border-radius: 6px;\n  cursor: pointer;\n}\n",""]);var c="myButton__lK0bE";const s=i},72:e=>{var t=[];function n(e){for(var n=-1,r=0;r<t.length;r++)if(t[r].identifier===e){n=r;break}return n}function r(e,r){for(var a={},i=[],c=0;c<e.length;c++){var s=e[c],l=r.base?s[0]+r.base:s[0],u=a[l]||0,p="".concat(l," ").concat(u);a[l]=u+1;var d=n(p),h={css:s[1],media:s[2],sourceMap:s[3],supports:s[4],layer:s[5]};if(-1!==d)t[d].references++,t[d].updater(h);else{var f=o(h,r);r.byIndex=c,t.splice(c,0,{identifier:p,updater:f,references:1})}i.push(p)}return i}function o(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,o){var a=r(e=e||[],o=o||{});return function(e){e=e||[];for(var i=0;i<a.length;i++){var c=n(a[i]);t[c].references--}for(var s=r(e,o),l=0;l<a.length;l++){var u=n(a[l]);0===t[u].references&&(t[u].updater(),t.splice(u,1))}a=s}}},113:e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},314:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",r=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),r&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),r&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,r,o,a){"string"==typeof e&&(e=[[null,e,void 0]]);var i={};if(r)for(var c=0;c<this.length;c++){var s=this[c][0];null!=s&&(i[s]=!0)}for(var l=0;l<e.length;l++){var u=[].concat(e[l]);r&&i[u[0]]||(void 0!==a&&(void 0===u[5]||(u[1]="@layer".concat(u[5].length>0?" ".concat(u[5]):""," {").concat(u[1],"}")),u[5]=a),n&&(u[2]?(u[1]="@media ".concat(u[2]," {").concat(u[1],"}"),u[2]=n):u[2]=n),o&&(u[4]?(u[1]="@supports (".concat(u[4],") {").concat(u[1],"}"),u[4]=o):u[4]="".concat(o)),t.push(u))}},t}},359:(e,t,n)=>{n.d(t,{Ay:()=>l,kb:()=>c,pG:()=>s});var r=n(601),o=n.n(r),a=n(314),i=n.n(a)()(o());i.push([e.id,"  \n.left__Wmbw6 {\n    font-size: 24px;\n  }\n  \n.right__Iajn0 {\n    display: flex;\n    align-items: center;\n  }\n",""]);var c="left__Wmbw6",s="right__Iajn0";const l=i},422:(e,t,n)=>{n.d(t,{A:()=>c});var r=n(601),o=n.n(r),a=n(314),i=n.n(a)()(o());i.push([e.id,"@import url(https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100..900;1,100..900&display=swap);"]),i.push([e.id,"* {\n  margin: 0;\n  padding: 0;\n  box-sizing: border-box;\n}\n:root {\n  --primary-color: #4a7feb;\n  --secondary-color: #03142a;\n  --subSecondary: #edf2fb;\n  --light-text: #b5b0bc;\n  --dark-text: #121723;\n  --white-color: #fff;\n  --primary-gradient: linear-gradient(15deg, #edf2fb 0%, #4a7feb 100%);\n\n  /* --primary-gradient: linear-gradient(to right, #EDF2FB, #4A7FEB); */\n  /* --primary-gradient: linear-gradient(90deg, #4A7FEB 0%, #03142A 100%); */\n}\n",""]);const c=i},461:(e,t,n)=>{n.d(t,{$7:()=>l,Ay:()=>d,DV:()=>c,JG:()=>u,QY:()=>p,aq:()=>s});var r=n(601),o=n.n(r),a=n(314),i=n.n(a)()(o());i.push([e.id,".userListItem__FsAKi {\n  padding: 21px 10px;\n  border-bottom: 1px solid #ccc;\n  font-size: 16px;\n  color: white;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  cursor: pointer;\n  transition: background-color 0.3s ease;\n}\n.userListItem__FsAKi:hover {\n  background-color: #9054c2;\n}\n.default_p2p_screen__pglGK {\n  padding: 0px 30px;\n  display: flex;\n  align-items: center;\n  gap: 10px;\n  flex-direction: column;\n  text-align: center;\n}\n.default_p2p_screen__pglGK p {\n  color: #777;\n}\n.chat_users_list__jz280 {\n  width: 35%;\n  border-radius: 10px 0px 0px 10px;\n  background: #a370ce;\n}\n.default_p2p_screen__pglGK {\n  padding: 0px 30px;\n  display: flex;\n  align-items: center;\n  gap: 10px;\n  flex-direction: column;\n  text-align: center;\n}\n.default_p2p_screen__pglGK p {\n  color: #777;\n}\n.chat_modal_opener__hxFQZ {\n  position: fixed;\n  bottom: 20px;\n  right: 20px;\n  z-index: 999998 !important;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background-color: rgb(51, 51, 51);\n  height: 50px;\n  width: 50px;\n  border-radius: 50%;\n  box-shadow: rgba(0, 0, 0, 0.1) 0px 4px 10px;\n  cursor: pointer;\n  animation: zoom__aWR9H 2s infinite ease-in-out;\n}\n\n@keyframes zoom__aWR9H {\n  0% {\n    transform: scale(1);\n  }\n  50% {\n    transform: scale(1.2);\n  }\n  100% {\n    transform: scale(1);\n  }\n}\n.chat_modal_opener__hxFQZ.no-zoom__lNSwN {\n  animation: none !important;\n}\n",""]);var c="userListItem__FsAKi",s="default_p2p_screen__pglGK",l="chat_users_list__jz280",u="chat_modal_opener__hxFQZ",p="no-zoom__lNSwN";const d=i},540:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},601:e=>{e.exports=function(e){return e[1]}},637:(e,t,n)=>{n.d(t,{A:()=>c});var r=n(601),o=n.n(r),a=n(314),i=n.n(a)()(o());i.push([e.id,".askQuestion {\n  border: none;\n  border-radius: 5px;\n  background: transparent;\n  color: white;\n  cursor: pointer;\n  font-size: 16px;\n  font-weight: 600;\n  /* text-decoration-line: underline; */\n}\n\n.bgConent {\n  width: 100%;\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n}\n\n.bglogo {\n  width: 70px;\n  height: 70px;\n  background: var(--white-color);\n  border-radius: 50%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  box-shadow: rgba(0, 0, 0, 0.24) 0px 3px 8px;\n  margin-bottom: 40px;\n}\n\n.bottomTabs {\n  display: flex;\n  align-items: center;\n  flex-direction: column;\n  gap: 8px;\n  position: relative;\n  outline: none;\n  border: none;\n  font-size: 16px;\n  cursor: pointer;\n  background-color: transparent;\n}\n\n.active {\n  color: var(--primary-color);\n}\n\n.bottomTabs.active::after {\n  position: absolute;\n  background: var(--primary-color);\n  transform: translateX(-50%);\n  border-radius: 0px;\n}\n\n.chat_screen_top_wrapper {\n  background: var(--white-color);\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  gap: 10px;\n  border-radius: 10px;\n  /* box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2); */\n  position: relative;\n  width: inherit;\n  height: 90%;\n  box-shadow: rgba(50, 50, 93, 0.25) 0px 2px 5px -1px, rgba(0, 0, 0, 0.3) 0px 1px 3px -1px;\n  border: 1px solid #ddd;\n}\n\n.footerDiv {\n  display: flex;\n  justify-content: space-between;\n  box-shadow: rgba(0, 0, 0, 0.35) 0px 5px 15px;\n  margin: 20px;\n  background-color: var(--white-color);\n  border-radius: 10px;\n  padding: 20px 80px;\n}\n\n.headContainer {\n  background: var(--white-color);\n  overflow-y: auto;\n}\n\n.headingImg {\n  width: 40px;\n}\n\n.headings {\n  text-align: center;\n  position: relative;\n}\n\n.homeScreen {\n  display: grid;\n  grid-template-rows: 83% 17%;\n  height: 100%;\n  width: 100%;\n  background: var(--white-color);\n  border-radius: 10px;\n}\n\n.messageBox {\n  box-shadow: rgba(0, 0, 0, 0.2) 0px 3px 8px;\n  background: var(--white-color);\n  padding: 20px;\n  border-radius: 10px;\n  color: black;\n  margin-bottom: 15px;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n}\n\n.messageBox strong {\n  font-size: 20px;\n  font-weight: 600;\n}\n\n.messageBox p {\n  margin-top: 10px;\n}\n\n.messageBox p,\nstrong {\n  color: var(--dark-text);\n}\n\n.messageContainer {\n  padding: 20px;\n}\n\n.notificationBadge {\n  background: red;\n  color: var(--white-color);\n  border-radius: 50%;\n  font-size: 12px;\n  width: 18px;\n  height: 18px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  position: absolute;\n  top: -8px;\n  left: 40px;\n}\n\n.noUsersList {\n  text-align: center;\n  font-size: 20px;\n  font-weight: 600;\n}\n\n.questionBoxWrap {\n  background: var(--primary-color);\n  padding: 15px 10px;\n  margin-top: 20px;\n  border-radius: 5px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  box-shadow: rgba(99, 99, 99, 0.2) 0px 2px 8px 0px;\n}\n\n.questionBoxWrap span {\n  width: 20px;\n  height: 20px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border-radius: 50%;\n  background-color: white;\n  color: rgb(163, 112, 206);\n}\n\n.resentSendMesgIc {\n  width: 35px;\n  height: 35px;\n}\n\n.slanted-box {\n  width: 100%;\n  height: 300px;\n  background: var(--primary-gradient);\n  position: relative;\n  clip-path: polygon(0 0, 100% 180px, 100% 100%, 0 100%);\n  transform: scaleY(-1);\n}\n\n.unreadMag {\n  color: #9054c2;\n  width: 26px;\n  height: 26px;\n  background: white;\n  text-align: center;\n  border-radius: 50%;\n  font-size: 16px;\n}\n.chat_modal__j7hD9nXt3QpLvFz1uY6j7m2 {\n  width: 100%;\n  max-width: 500px;\n  height: 100%;\n  max-height: 700px;\n  border-radius: 10px;\n  font-family: Arial, sans-serif;\n  background-color: transparent;\n  position: fixed;\n  bottom: 0px;\n  right: 0px;\n  overflow: hidden;\n  z-index: 999999 !important;\n  display: flex;\n  align-items: flex-end;\n  flex-direction: column;\n  /* box-shadow: rgba(99, 99, 99, 0.2) 0px 2px 8px 0px; */\n  /* border: 4px solid blue; */\n      gap: 10px;\n}\n\n/* Close Button now absolute relative to modal */\n.closeChatModal {\n  /* position: absolute;  */\n  /* top: 16px;   */\n  right: 16px;       /* gap from modal right */\n  background-color: #a370ce;\n  width: 50px;\n  height: 50px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border-radius: 50%;\n  color: white;\n  cursor: pointer;\n  box-shadow: rgba(0, 0, 0, 0.15) 1.95px 1.95px 2.6px;\n  transition: background-color 0.3s ease, transform 0.2s ease;\n  z-index: 10; /* above modal content */\n}\n\n.closeChatModal:hover {\n  background-color: #935bc0;\n  transform: scale(1.05);\n}\n\n/* ------------------ Responsive Adjustments ------------------ */\n\n@media (max-width: 575.98px) {\n  .chat_modal__j7hD9nXt3QpLvFz1uY6j7m2 {\n    max-height: 100%;\n  }\n  .closeChatModal {\n    top: 0px;\n    right: 12px;\n    /* width: 45px;\n    height: 45px; */\n  }\n}\n\n@media (min-width: 576px) and (max-width: 645px) {\n  .chat_modal__j7hD9nXt3QpLvFz1uY6j7m2 {\n    bottom: 12px;\n    right: 12px;\n    max-height: 100vh;\n  }\n  .closeChatModal {\n    top: 12px;\n    right: 12px;\n  }\n}\n\n@media (min-width: 646px) and (max-width: 765px) {\n  .chat_modal__j7hD9nXt3QpLvFz1uY6j7m2 {\n    bottom: 14px;\n    right: 14px;\n    max-height: 84vh;\n  }\n  .closeChatModal {\n    top: 14px;\n    right: 14px;\n  }\n}\n\n@media (min-width: 766px) and (max-width: 1024px) {\n  .chat_modal__j7hD9nXt3QpLvFz1uY6j7m2 {\n    bottom: 16px;\n    right: 16px;\n    max-height: 80vh;\n  }\n  .closeChatModal {\n    top: 16px;\n    right: 16px;\n  }\n}\n\n@media (min-width: 1025px) and (max-width: 1919px) {\n  .chat_modal__j7hD9nXt3QpLvFz1uY6j7m2 {\n    bottom: 16px;\n    right: 16px;\n    max-height: 700px;\n  }\n  .closeChatModal {\n    top: 16px;\n    right: 16px;\n  }\n}\n\n@media (min-width: 1920px) {\n  .chat_modal__j7hD9nXt3QpLvFz1uY6j7m2 {\n    bottom: 16px;\n    right: 16px;\n    max-height: 800px;\n  }\n  .closeChatModal {\n    top: 18px;\n    right: 18px;\n  }\n}\n",""]);const c=i},659:e=>{var t={};e.exports=function(e,n){var r=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},825:e=>{e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var o=void 0!==n.layer;o&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,o&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var a=n.sourceMap;a&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),t.styleTagTransform(r,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},830:(e,t,n)=>{n.d(t,{A:()=>c});var r=n(601),o=n.n(r),a=n(314),i=n.n(a)()(o());i.push([e.id,"/* .all-emoji-wrap {\n  display: inline-flex;\n  background: rgb(225, 225, 225);\n  padding: 10px;\n  border-radius: 20px;\n  box-shadow: rgba(0, 0, 0, 0.1) 0px 2px 4px;\n  position: absolute;\n  top: 0px;\n  right: 0px;\n  z-index: 100;\n  border: 1px solid red;\n  transform: translate(-40%, 30%);\n  cursor: pointer;\n} */\n.question {\n  align-self: flex-end;\n  display: inline-block;\n  background: var(--primary-color);\n  color: var(--white-color);\n  padding: 12px 16px;\n  border-radius: 18px 18px 0px;\n  max-width: 350px;\n  word-wrap: break-word;\n}\n\n\n",""]);const c=i},881:(e,t,n)=>{n.d(t,{Ay:()=>h,R6:()=>p,RQ:()=>u,UE:()=>c,Vd:()=>s,mO:()=>d,xW:()=>l});var r=n(601),o=n.n(r),a=n(314),i=n.n(a)()(o());i.push([e.id,'.choicesContainer__mE4Dw {\n  display: flex;\n  justify-content: flex-end;\n  align-content: flex-start;\n  gap: 10px;\n  padding: 0px 10px;\n  max-width: calc(2 * 175px + 10px);\n  flex-wrap: wrap;\n  max-height: 150px;\n  overflow-y: auto;\n  margin-bottom: 10px;\n}\n.choicesContainer__mE4Dw .choice__uwtp_:nth-child(1) {\n  background-color: #d8eee5;\n}\n\n.choicesContainer__mE4Dw .choice__uwtp_:nth-child(2) {\n  background-color: #e8ded0;\n}\n\n.choicesContainer__mE4Dw .choice__uwtp_:nth-child(3) {\n  background-color: #d0e7f6;\n}\n.choicesContainer__mE4Dw .choice__uwtp_:nth-child(4) {\n  background-color: #e8d9e2;\n}\n.root-question__iTLYl {\n  width: 20%;\n  padding: 10px;\n  border-radius: 20px;\n  background: #d8eee5;\n  color: black;\n  text-align: center;\n  font-size: 16px;\n  /* margin-bottom: 10px; */\n  cursor: pointer;\n}\n.root-question__iTLYl:hover {\n  background-color: #d3f7e8;\n}\n\n.answer__GsfMt {\n  background-color: lightblue;\n  padding: 10px;\n  border-radius: 6px;\n}\n.errorPopups__tzraR {\n  position: fixed;\n  top: -100px;\n  right: 20px;\n  padding: 20px;\n  color: black;\n  z-index: 2147483648;\n  border-radius: 8px;\n  max-width: 300px;\n  font-family: Arial, sans-serif;\n  box-shadow: rgba(0, 0, 0, 0.2) 0px 4px 8px;\n  background-color: rgb(255, 255, 255);\n  min-width: 200px;\n  max-width: 400px;\n  overflow: hidden;\n  animation: slideDown__GtWrC 0.5s forwards;\n}\n@keyframes slideDown__GtWrC {\n  0% { top: -100px; opacity: 0; }\n  100% { top: 70px; opacity: 1; }\n}\n\n/* Slide up keyframes */\n@keyframes slideUp__p_TUq {\n  0% { top: 70px; opacity: 1; }\n  100% { top: -100px; opacity: 0; }\n}\n\n/* Class to trigger slide-up */\n.slideUp__p_TUq {\n  animation: slideUp__p_TUq 0.5s forwards;\n}\n\n.errorTitleWrap__kGr0T {\n  display: flex;\n  align-items: center;\n  flex-direction: column;\n  gap: 10px;\n}\n.errorTitleIc__U3eYI {\n  width: 60px;\n  border-radius: 50%;\n  height: 60px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.errorTitleWrap__kGr0T h3 {\n  margin-top: 0px;\n  font-size: 20px;\n  font-weight: 600;\n}\n.styled-list__ie_PA {\n list-style: none;\n  padding-left: 0;\n  margin-top: 10px;\n}\n\n.styled-list__ie_PA li {\n  position: relative;\n  margin: 8px 0;\n  padding-left: 28px;\n  font-size: 15px;\n  color: #333;\n}\n.styled-list__ie_PA li::before {\ncontent: "";\n    position: absolute;\n    left: 0;\n    top: 50%;\n    transform: translateY(-50%) rotate(45deg);\n    width: 10px;\n    height: 10px;\n    border: 2px solid #616161;\n    background: transparent;\n    box-sizing: border-box;\n}\n\n.close_btn__wNnAg {\n      padding: 10px 20px;\n    background-color: #898989;\n    color: rgb(255, 255, 255);\n    border: none;\n    border-radius: 5px;\n    font-size: 16px;\n    cursor: pointer;\n}\n\n@keyframes slideUp__p_TUq {\n  0% {\n    top: 70px;\n    opacity: 1;\n  }\n  100% {\n    top: -100px;\n    opacity: 0;\n  }\n}',""]);var c="errorPopups__tzraR",s="slideUp__p_TUq",l="errorTitleWrap__kGr0T",u="errorTitleIc__U3eYI",p="styled-list__ie_PA",d="close_btn__wNnAg";const h=i},990:(e,t,n)=>{n.d(t,{A:()=>c});var r=n(601),o=n.n(r),a=n(314),i=n.n(a)()(o());i.push([e.id,".header__j7hD9nXt3QpLvFz1uY6j7m2 {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  color: white;\n  height: 60px; /* Adjust the height as needed */\n  padding: 0 20px;\n  position: relative;\n  top: 0px;\n  right: 0px;\n  left: 0px;\n  z-index: 999997 !important;\n}\n\n.header__j7hD9nXt3QpLvFz1uY6j7m2 button {\n  margin-left: 10px;\n  padding: 5px 10px;\n}\n",""]);const c=i}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var a=t[r]={id:r,exports:{}};return e[r](a,a.exports,n),a.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;n.g.importScripts&&(e=n.g.location+"");var t=n.g.document;if(!e&&t&&(t.currentScript&&"SCRIPT"===t.currentScript.tagName.toUpperCase()&&(e=t.currentScript.src),!e)){var r=t.getElementsByTagName("script");if(r.length)for(var o=r.length-1;o>-1&&(!e||!/^http(s?):/.test(e));)e=r[o--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/^blob:/,"").replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=e})(),n.nc=void 0;var r={};n.r(r),n.d(r,{chatCoreReady:()=>mt,chat_core:()=>lt,chat_modal_opener:()=>ht,clean_up_chatbox:()=>Pt,current_apptype:()=>{},current_vertype:()=>{},global_bucket:()=>ut,identifiers:()=>dt,initialize:()=>St,loggedInUser:()=>pt,logout:()=>ft,renderErrorPopup:()=>le,resetSettingFunc:()=>Z,setUp:()=>kt,updateLiveSettings:()=>Mt});var o={};n.r(o),n.d(o,{mO:()=>re.mO,UE:()=>re.UE,RQ:()=>re.RQ,xW:()=>re.xW,Vd:()=>re.Vd,R6:()=>re.R6});var a={};n.r(a),n.d(a,{default:()=>je,myButton:()=>Le.j});var i=n(72),c=n.n(i),s=n(825),l=n.n(s),u=n(659),p=n.n(u),d=n(56),h=n.n(d),f=n(540),g=n.n(f),m=n(113),y=n.n(m),v=n(359),x={};function b(e){return b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},b(e)}function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){k(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function k(e,t,n){return(t=function(e){var t=function(e){if("object"!=b(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=b(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==b(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function E(){E=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var a=t&&t.prototype instanceof y?t:y,i=Object.create(a.prototype),c=new T(r||[]);return o(i,"_invoke",{value:O(e,n,c)}),i}function p(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var d="suspendedStart",h="suspendedYield",f="executing",g="completed",m={};function y(){}function v(){}function x(){}var _={};l(_,i,(function(){return this}));var w=Object.getPrototypeOf,k=w&&w(w(z([])));k&&k!==n&&r.call(k,i)&&(_=k);var C=x.prototype=y.prototype=Object.create(_);function S(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function L(e,t){function n(o,a,i,c){var s=p(e[o],e,a);if("throw"!==s.type){var l=s.arg,u=l.value;return u&&"object"==b(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(u).then((function(e){l.value=e,i(l)}),(function(e){return n("throw",e,i,c)}))}c(s.arg)}var a;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return a=a?a.then(o,o):o()}})}function O(t,n,r){var o=d;return function(a,i){if(o===f)throw Error("Generator is already running");if(o===g){if("throw"===a)throw i;return{value:e,done:!0}}for(r.method=a,r.arg=i;;){var c=r.delegate;if(c){var s=j(c,r);if(s){if(s===m)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===d)throw o=g,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=f;var l=p(t,n,r);if("normal"===l.type){if(o=r.done?g:h,l.arg===m)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(o=g,r.method="throw",r.arg=l.arg)}}}function j(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,j(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var a=p(o,t.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,m;var i=a.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,m):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function A(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(A,this),this.reset(!0)}function z(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}throw new TypeError(b(t)+" is not iterable")}return v.prototype=x,o(C,"constructor",{value:x,configurable:!0}),o(x,"constructor",{value:v,configurable:!0}),v.displayName=l(x,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,x):(e.__proto__=x,l(e,s,"GeneratorFunction")),e.prototype=Object.create(C),e},t.awrap=function(e){return{__await:e}},S(L.prototype),l(L.prototype,c,(function(){return this})),t.AsyncIterator=L,t.async=function(e,n,r,o,a){void 0===a&&(a=Promise);var i=new L(u(e,n,r,o),a);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},S(C),l(C,s,"Generator"),l(C,i,(function(){return this})),l(C,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=z,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(I),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return c.type="throw",c.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var s=r.call(i,"catchLoc"),l=r.call(i,"finallyLoc");if(s&&l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,m):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),I(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;I(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:z(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),m}},t}function C(e,t,n,r,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function S(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){C(a,r,o,i,c,"next",e)}function c(e){C(a,r,o,i,c,"throw",e)}i(void 0)}))}}x.styleTagTransform=y(),x.setAttributes=h(),x.insert=p().bind(null,"head"),x.domAPI=l(),x.insertStyleElement=g(),c()(v.Ay,x),v.Ay&&v.Ay.locals&&v.Ay.locals;var L="ws://admin.magicchat.io";function O(){var e=new Uint32Array(arguments.length>0&&void 0!==arguments[0]?arguments[0]:10);return crypto.getRandomValues(e),Array.from(e,(function(e){return"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789"[e%62]})).join("")}function j(e,t,n,r,o,a){return A.apply(this,arguments)}function A(){return(A=S(E().mark((function e(t,n,r,o,a,i){var c,s;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("Processing authentication:",t,n,r,o),t){e.next=3;break}return e.abrupt("return",null);case 3:if("NO_AUTH_REQUIRED"!==t||"V4"===n.settings.version){e.next=5;break}throw new Error("The `NO_AUTH_REQUIRED` option cannot be used with the current app version.");case 5:if(console.log("amrkerew3"),["P2A","P2P"].includes(r)){e.next=9;break}throw new Error("Unsupported application type: ".concat(r));case 9:console.log("amrkerew1"),console.log("amrkerew2"),e.prev=11,e.t0=o,e.next="V1"===e.t0?15:"V2"===e.t0?28:"V3"===e.t0?33:"V4"===e.t0?40:47;break;case 15:if("V1"===n.settings.version){e.next=17;break}throw new Error("Unsupported configuration for V1 app type.");case 17:return console.log("did we even here?"),e.next=20,ge(t);case 20:return c=e.sent,console.log("did dyouhandleV1User"),c.version=n.settings.version,localStorage.setItem("tezkit_me",JSON.stringify(c)),JSON.parse(localStorage.getItem("live_talk_seen"))||localStorage.setItem("live_talk_seen",!0),(s=document.getElementById("loginForm"))&&s.addEventListener("submit",handleLogin),e.abrupt("break",48);case 28:if("V2"===n.settings.version){e.next=30;break}throw new Error("Unsupported configuration for V2 app type.");case 30:case 37:return c=w(w({},t),{},{apptyp:r,version:o,tenant:a,app_name:i,tenant_info:n.tenant_info}),localStorage.setItem("tezkit_me",JSON.stringify(c)),e.abrupt("break",48);case 33:if("V3"===n.settings.version){e.next=35;break}throw new Error("Unsupported configuration for V3 app type.");case 35:return e.next=37,I(t,n);case 40:if("V4"===n.settings.version){e.next=42;break}throw new Error("Unsupported configuration for V4 app type.");case 42:return e.next=44,z(t,n,r,o,a,i);case 44:return c=e.sent,console.log("did dyouhandleV4User",c),e.abrupt("break",48);case 47:throw new Error("Unsupported version: ".concat(o));case 48:e.next=54;break;case 50:throw e.prev=50,e.t1=e.catch(11),console.error("Authentication failed:",e.t1.message),e.t1;case 54:return e.abrupt("return",c);case 55:case"end":return e.stop()}}),e,null,[[11,50]])})))).apply(this,arguments)}function I(e,t){return T.apply(this,arguments)}function T(){return(T=S(E().mark((function e(t,n){var r,o,a,i,c,s,l,u,p,d;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=JSON.parse(localStorage.getItem("global_settings")),o=r.multi_admin.enable,a="https://auth.".concat("magicchat.io","/").concat("prod","/onboarding"),i={Accept:"*/*","User-Agent":"Thunder Client (https://www.thunderclient.com)","X-API-Key":n.auth_key,"Content-Type":"application/json"},c={tenant:n.tenant_id,uid:t.uid,app_name:n.app_name,version:n.settings.version,tenant_id:n.tenant_info.id,multi_admin:o},L&&(c.soc_server_ip=L),e.prev=6,e.next=9,fetch(a,{method:"POST",headers:i,body:JSON.stringify(c)});case 9:return l=e.sent,e.prev=10,e.next=13,l.json();case 13:u=e.sent,e.next=19;break;case 16:throw e.prev=16,e.t0=e.catch(10),new Error("Failed to parse onboarding response: ".concat(e.t0.message));case 19:if(!((null===(s=u)||void 0===s?void 0:s.statusCode)>=400)){e.next=22;break}throw d=null!==(p=u)&&void 0!==p&&p.body?JSON.parse(u.body).error:"Unknown onboarding error",new Error("V3 Onboarding failed: ".concat(d));case 22:console.log("V3 Onboarding success:",u),console.log("V3 Onboarding success:",u),e.next=30;break;case 26:throw e.prev=26,e.t1=e.catch(6),console.error("Error during V3 onboarding:",e.t1.message),e.t1;case 30:case"end":return e.stop()}}),e,null,[[6,26],[10,16]])})))).apply(this,arguments)}function z(e,t,n,r,o,a){return N.apply(this,arguments)}function N(){return(N=S(E().mark((function e(t,n,r,o,a,i){var c,s,l,u,p,d,h,f,g,m,y,v,x,b,_,k;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=JSON.parse(localStorage.getItem("global_settings")),s=c.multi_admin.enable,l=Date.now(),u=localStorage.getItem("tezkit_V4_uid_data"),p=!0,u)try{null!=(h=JSON.parse(u))&&h.uid&&null!=h&&h.created_at&&l-h.created_at<5184e6&&(d=h.uid,p=!1)}catch(e){console.warn("Invalid stored UID data, regenerating...")}if(d||(d=O(10)),t={uid:d},!p){e.next=41;break}return f="https://auth.".concat("magicchat.io","/").concat("prod","/onboarding"),g={Accept:"*/*","User-Agent":"Thunder Client (https://www.thunderclient.com)","X-API-Key":n.auth_key,"Content-Type":"application/json"},m={tenant:n.tenant_id,uid:t.uid,app_name:n.app_name,version:n.settings.version,tenant_id:n.tenant_info.id,multi_admin:s},L&&(m.soc_server_ip=L),e.prev=14,e.next=17,fetch(f,{method:"POST",headers:g,body:JSON.stringify(m)});case 17:return v=e.sent,e.prev=18,e.next=21,v.json();case 21:x=e.sent,e.next=27;break;case 24:throw e.prev=24,e.t0=e.catch(18),new Error("Failed to parse onboarding response: ".concat(e.t0.message));case 27:if(!((null===(y=x)||void 0===y?void 0:y.statusCode)>=400)){e.next=30;break}throw _=null!==(b=x)&&void 0!==b&&b.body?JSON.parse(x.body).error:"Unknown onboarding error",new Error("V4 Onboarding failed: ".concat(_));case 30:console.log("V4 Onboarding success:",x),localStorage.setItem("tezkit_V4_uid_data",JSON.stringify({uid:t.uid,created_at:l})),"P2A"===n.settings.app_type&&lt.handleNewIncomingUser({uid:t.uid,app_name:n.app_name,version:n.settings.version,created_at:l}),e.next=39;break;case 35:throw e.prev=35,e.t1=e.catch(14),console.error("Error during V4 onboarding:",e.t1.message),e.t1;case 39:e.next=42;break;case 41:console.log("Using stored UID from localStorage:",d);case 42:return k=w(w({},t),{},{apptyp:r,version:o,tenant:a,app_name:i,tenant_info:n.tenant_info}),localStorage.setItem("tezkit_me",JSON.stringify(k)),e.abrupt("return",k);case 45:case"end":return e.stop()}}),e,null,[[14,35],[18,24]])})))).apply(this,arguments)}function P(e){return P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},P(e)}function M(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,c=[],s=!0,l=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=a.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){l=!0,o=e}finally{try{if(!s&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(l)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return F(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?F(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function F(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function V(){V=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var a=t&&t.prototype instanceof y?t:y,i=Object.create(a.prototype),c=new A(r||[]);return o(i,"_invoke",{value:S(e,n,c)}),i}function p(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var d="suspendedStart",h="suspendedYield",f="executing",g="completed",m={};function y(){}function v(){}function x(){}var b={};l(b,i,(function(){return this}));var _=Object.getPrototypeOf,w=_&&_(_(I([])));w&&w!==n&&r.call(w,i)&&(b=w);var k=x.prototype=y.prototype=Object.create(b);function E(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function C(e,t){function n(o,a,i,c){var s=p(e[o],e,a);if("throw"!==s.type){var l=s.arg,u=l.value;return u&&"object"==P(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(u).then((function(e){l.value=e,i(l)}),(function(e){return n("throw",e,i,c)}))}c(s.arg)}var a;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return a=a?a.then(o,o):o()}})}function S(t,n,r){var o=d;return function(a,i){if(o===f)throw Error("Generator is already running");if(o===g){if("throw"===a)throw i;return{value:e,done:!0}}for(r.method=a,r.arg=i;;){var c=r.delegate;if(c){var s=L(c,r);if(s){if(s===m)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===d)throw o=g,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=f;var l=p(t,n,r);if("normal"===l.type){if(o=r.done?g:h,l.arg===m)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(o=g,r.method="throw",r.arg=l.arg)}}}function L(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,L(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var a=p(o,t.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,m;var i=a.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,m):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function I(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}throw new TypeError(P(t)+" is not iterable")}return v.prototype=x,o(k,"constructor",{value:x,configurable:!0}),o(x,"constructor",{value:v,configurable:!0}),v.displayName=l(x,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,x):(e.__proto__=x,l(e,s,"GeneratorFunction")),e.prototype=Object.create(k),e},t.awrap=function(e){return{__await:e}},E(C.prototype),l(C.prototype,c,(function(){return this})),t.AsyncIterator=C,t.async=function(e,n,r,o,a){void 0===a&&(a=Promise);var i=new C(u(e,n,r,o),a);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},E(k),l(k,s,"Generator"),l(k,i,(function(){return this})),l(k,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=I,A.prototype={constructor:A,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(j),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return c.type="throw",c.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var s=r.call(i,"catchLoc"),l=r.call(i,"finallyLoc");if(s&&l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,m):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),j(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;j(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:I(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),m}},t}function G(e,t,n,r,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function U(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){G(a,r,o,i,c,"next",e)}function c(e){G(a,r,o,i,c,"throw",e)}i(void 0)}))}}function R(){var e=document.getElementById("notificationModal");"none"===e.style.display||""===e.style.display?e.style.display="block":e.style.display="none"}function D(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;history.pushState(null,"",e),window.location.reload()}function J(e){if(document.querySelector(".profile-modal"))document.removeEventListener("click",n);else{var t=function(e){var t=document.createElement("div");Object.assign(t.style,{width:"300px",position:"absolute",borderRadius:"8px",zIndex:1e9,backgroundColor:"white",padding:"16px",border:"1px solid #ccc",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.2)",fontFamily:"Arial, sans-serif",fontSize:"14px",color:"#333"});var n='\n    <table style="width: 100%; border-collapse: collapse;">\n      <tbody>\n        '.concat(Object.entries(e).map((function(e){var t=M(e,2),n=t[0],r=t[1];return"tenant_info"===n&&"object"===P(r)?'\n                <tr>\n                  <td colspan="2" style="padding: 8px 0; font-weight: bold; text-align: center;">Tenant Information</td>\n                </tr>\n                '.concat(Object.entries(r).map((function(e){var t=M(e,2),n=t[0],r=t[1];return'<tr>\n                        <td style="padding: 4px; border-bottom: 1px solid #f0f0f0; text-align: left;">'.concat(n,'</td>\n                        <td style="padding: 4px; border-bottom: 1px solid #f0f0f0; text-align: right;">').concat("string"==typeof r&&r.startsWith("http")?'<img src="'.concat(r,'" alt="').concat(n,'" style="width: 50px; height: auto; border-radius: 4px;" />'):r,"</td>\n                      </tr>")})).join(""),"\n              "):'\n              <tr>\n                <td style="padding: 4px; border-bottom: 1px solid #f0f0f0; text-align: left;">'.concat(n,'</td>\n                <td style="padding: 4px; border-bottom: 1px solid #f0f0f0; text-align: right;">').concat("string"==typeof r&&r.startsWith("http")?'<img src="'.concat(r,'" alt="').concat(n,'" style="width: 50px; height: auto; border-radius: 4px;" />'):r,"</td>\n              </tr>\n            ")})).join(""),"\n      </tbody>\n    </table>\n  ");return t.innerHTML=n,t}(JSON.parse(localStorage.getItem("tezkit_me")));t.classList.add("profile-modal"),t.style.top="".concat(e.target.getBoundingClientRect().bottom+window.scrollY,"px"),t.style.right="0px",document.body.appendChild(t),setTimeout((function(){document.addEventListener("click",n)}),0)}function n(e){var t=document.querySelector(".profile-modal");t&&!t.contains(e.target)&&e.target!==e.currentTarget&&(t.remove(),document.removeEventListener("click",n))}}function B(e){return W.apply(this,arguments)}function W(){return(W=U(V().mark((function e(t){var n,r,o,a,i,c,s,l,u,p,d,h;return V().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("diditgothit?"),t.preventDefault(),n=t.target,r=new FormData(n),e.prev=4,a=localStorage.getItem("tezkit_app_data")){e.next=8;break}throw new Error("Tezkit app data is missing from local storage.");case 8:if(i=JSON.parse(a),console.log("Parsed Tezkit App Data:",i),"V1"!==(null===(o=i.settings)||void 0===o?void 0:o.version)){e.next=36;break}return console.log("is it really goigng througthisn"),c={type:"user_type",email:r.get("email"),password:r.get("password"),app_name:i.app_name,tenant:i.tenant_id},s={Accept:"*/*","User-Agent":"Thunder Client (https://www.thunderclient.com)","Content-Type":"application/json"},e.next=16,fetch("https://auth.".concat("magicchat.io","/").concat("prod","/login"),{method:"POST",body:JSON.stringify(c),headers:s});case 16:if(!(l=e.sent).ok){e.next=29;break}return e.next=20,l.json();case 20:if(null!=(u=e.sent)&&u.token){e.next=23;break}throw new Error("Invalid email or password.");case 23:localStorage.setItem("tezkit_token",u.token),console.log("Token saved successfully:",u.token),"string"==typeof(p=localStorage.getItem("redirect_uri"))&&""!==p.trim()&&"null"!==p.trim()?(console.log("Redirecting to:",p),D(p)):(d=window.location.pathname+window.location.search+window.location.hash,console.log("Redirecting to current path:",d),D(d)),e.next=34;break;case 29:return e.next=31,l.json();case 31:h=e.sent,console.error("Login failed:",h),le(["Login failed",h.error||"An unknown error occurred."]);case 34:e.next=38;break;case 36:throw console.log("this line will come?"),new Error("Only V1 (CLOUD MANAGED IS ALLOWED");case 38:e.next=44;break;case 40:e.prev=40,e.t0=e.catch(4),console.error("Error during login:",e.t0),le([e.t0.message||"Please try again later."]);case 44:case"end":return e.stop()}}),e,null,[[4,40]])})))).apply(this,arguments)}function q(e,t,n){var r=document.createElement("div");r.style.position="relative",r.style.marginBottom="20px";var o=document.createElement("input");o.name=e,o.placeholder=t,o.type=n,o.style.width="100%",o.style.padding="15px",o.style.marginBottom="20px",o.style.border="1px solid #ccc",o.style.borderRadius="3px",o.style.outline="none",o.style.fontSize="16px",r.appendChild(o);var a='<svg width="26" height="16" viewBox="0 0 26 16" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M12.8 16C4.42537 16 0.273377 8.6992 0.100777 8.3886C0.034685 8.26971 0 8.13593 0 7.9999C0 7.86387 0.034685 7.73009 0.100777 7.6112C0.273377 7.3008 4.42537 0 12.8 0C21.1745 0 25.3265 7.3008 25.4991 7.6114C25.5652 7.73029 25.5999 7.86407 25.5999 8.0001C25.5999 8.13613 25.5652 8.26991 25.4991 8.3888C25.3265 8.6992 21.1745 16 12.8 16ZM1.74137 7.9988C2.69297 9.441 6.42917 14.4 12.8 14.4C19.1909 14.4 22.9105 9.445 23.8585 8.0012C22.9069 6.559 19.1707 1.6 12.8 1.6C6.40897 1.6 2.68937 6.555 1.74137 7.9988ZM12.8 12.8C10.1532 12.8 7.99996 10.6468 7.99996 8C7.99996 5.3532 10.1532 3.2 12.8 3.2C15.4467 3.2 17.5999 5.3532 17.5999 8C17.5999 10.6468 15.4467 12.8 12.8 12.8ZM12.8 4.8C11.0356 4.8 9.59996 6.2356 9.59996 8C9.59996 9.7644 11.0356 11.2 12.8 11.2C14.5644 11.2 15.9999 9.7644 15.9999 8C15.9999 6.2356 14.5644 4.8 12.8 4.8Z" fill="#434343"/>\n</svg>\n\n';if("password"===n){var i=document.createElement("span");i.innerHTML=a,i.style.position="absolute",i.style.top="40%",i.style.right="12px",i.style.transform="translateY(-50%)",i.style.cursor="pointer",i.style.userSelect="none",i.style.fontSize="18px",i.addEventListener("click",(function(){"password"===o.type?(o.type="text",i.innerHTML='<svg width="22" height="16" viewBox="0 0 22 16" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M13.3151 8.17969L14.5268 6.96802C14.6149 7.29786 14.6666 7.64269 14.6666 8.00002C14.6666 10.2057 12.8723 12 10.6666 12C10.3093 12 9.96446 11.9483 9.63462 11.8602L10.8463 10.6485C11.4867 10.605 12.0897 10.3309 12.5436 9.87703C12.9975 9.42313 13.2716 8.82013 13.3151 8.17969ZM21.2493 7.67619C21.1673 7.52869 20.0043 5.49086 17.7309 3.76387L16.7608 4.73403C18.4184 5.95286 19.4688 7.37435 19.8823 8.00102C19.0921 9.20418 15.9924 13.3333 10.6666 13.3333C9.86796 13.3333 9.12529 13.2312 8.42646 13.0682L7.33096 14.1637C8.33813 14.4725 9.44512 14.6667 10.6666 14.6667C17.6454 14.6667 21.1054 8.58269 21.2493 8.32385C21.3044 8.22481 21.3333 8.11335 21.3333 8.00002C21.3333 7.88669 21.3044 7.77523 21.2493 7.67619ZM18.4713 1.13804L3.80464 15.8047C3.67447 15.9348 3.50381 16 3.33331 16C3.16281 16 2.99214 15.9348 2.86197 15.8047C2.80003 15.7428 2.75089 15.6693 2.71736 15.5884C2.68383 15.5076 2.66658 15.4209 2.66658 15.3333C2.66658 15.2458 2.68383 15.1591 2.71736 15.0782C2.75089 14.9973 2.80003 14.9239 2.86197 14.862L4.72797 12.996C1.71131 11.1748 0.178481 8.49402 0.0839809 8.32385C0.0289041 8.22478 0 8.11329 0 7.99994C0 7.88658 0.0289041 7.7751 0.0839809 7.67602C0.227814 7.41735 3.6878 1.33337 10.6666 1.33337C12.4711 1.33337 14.0341 1.74504 15.3703 2.3537L17.5286 0.195374C17.7891 -0.0651248 18.2109 -0.0651248 18.4713 0.195374C18.7316 0.455874 18.7318 0.877706 18.4713 1.13804ZM5.72213 12.0018L7.40996 10.314C6.9438 9.66002 6.66663 8.86252 6.66663 8.00002C6.66663 5.79436 8.46096 4.00003 10.6666 4.00003C11.5291 4.00003 12.3266 4.2772 12.9806 4.7432L14.3454 3.37837C13.2671 2.94653 12.0418 2.6667 10.6666 2.6667C5.3408 2.6667 2.24114 6.79586 1.45114 7.99902C1.95281 8.75935 3.39481 10.684 5.72213 12.0018ZM8.37779 9.34602L12.0126 5.71119C11.6161 5.47703 11.1596 5.33336 10.6666 5.33336C9.19629 5.33336 7.99996 6.52969 7.99996 8.00002C7.99996 8.49302 8.14363 8.94952 8.37779 9.34602Z" fill="#434343"/>\n</svg>\n'):(o.type="password",i.innerHTML=a)})),r.appendChild(i)}return r}function Y(e){var t=document.createElement("div");t.classList.add("tezkit-modal-overlay"),t.style.position="fixed",t.style.top="0",t.style.left="0",t.style.width="100%",t.style.height="100%",t.style.backgroundColor="rgba(0, 0, 0, 0.5)",t.style.display="flex",t.style.justifyContent="center",t.style.alignItems="center",t.style.zIndex="1000";var n=document.createElement("div");n.style.backgroundColor="white",n.style.padding="100px",n.style.borderRadius="8px",n.style.width="800px",n.style.textAlign="center";var r=document.createElement("button"),o=document.createElement("i");o.classList.add("fa-solid","fa-arrow-left"),o.style.color="black",o.style.fontSize="24px",o.style.padding="14px",r.appendChild(o),r.style.marginBottom="15px",r.style.border="none",r.style.outline="none",r.style.borderRadius="8px",r.addEventListener("click",(function(){document.body.removeChild(t)})),n.appendChild(r),n.appendChild(e),t.appendChild(n),document.body.appendChild(t)}function H(){var e=document.querySelector(".tezkit-modal-overlay");e&&document.body.removeChild(e)}function Q(){H(),Y(function(e,t){var n=document.createElement("form");n.style.width="100%",n.id=e.form.id;var r=document.createElement("h2");r.textContent=e.form.title||"Form Title",r.style.textAlign="center",r.style.marginBottom="20px",n.appendChild(r),e.fields.forEach((function(e){var t=q(e.field_name,e.placeholder,e.type);n.appendChild(t)}));var o=document.createElement("button");return o.type="submit",o.textContent=e.submitButton.textContent||"Submit",o.style.width="100%",o.style.padding="20px",o.style.backgroundColor="#4CAF50",o.style.color="white",o.style.border="none",o.style.borderRadius="3px",o.style.fontSize="16px",o.style.fontWeight="600px",n.appendChild(o),n.addEventListener("submit",t),n}({form:{id:"loginForm",title:"Login Title Here"},submitButton:{textContent:"Login"},fields:[{field_name:"email",placeholder:"Enter your email",type:"email"},{field_name:"password",placeholder:"Enter you password",type:"password"}]},B))}function X(e,t){var n=document.createElement("button");return n.setAttribute("class",e.toLowerCase()+"__"+ue),n.style.marginRight="5px",n.textContent=e,n.addEventListener("click",t),n}function K(){H();var e=function(){var e=document.createElement("form");e.style.width="100%",e.id="signupForm";var t=document.createElement("h2");t.textContent="Signup",t.style.textAlign="center",t.style.marginBottom="20px",e.appendChild(t);var n=q("full_name","Enter your full name","text");e.appendChild(n);var r=document.createElement("label");r.textContent="Upload your profile picture (optional)",r.style.display="block",r.style.marginTop="15px";var o=document.createElement("input");o.type="file",o.id="profile_image",o.name="profile_image",o.accept="image/*",o.style.display="block",o.style.marginTop="5px",e.appendChild(r),e.appendChild(o);var a=q("phone","Enter your phone number (optional)","text");e.appendChild(a);var i=q("email","Enter your email","email");e.appendChild(i);var c=q("password","Enter your password","password");e.appendChild(c);var s=document.createElement("div");s.style.display="flex",s.style.alignItems="center",s.style.gap="20px";var l=document.createElement("label");l.textContent="Gender",l.style.fontWeight="600",l.style.marginRight="10px";var u=document.createElement("input");u.type="radio",u.name="gender",u.value="Male",u.style.transform="scale(1.5)";var p=document.createElement("input");p.type="radio",p.name="gender",p.value="Female",p.style.transform="scale(1.5)",s.appendChild(l),s.appendChild(u),s.appendChild(document.createTextNode("Male")),s.appendChild(p),s.appendChild(document.createTextNode("Female")),e.appendChild(s);var d=document.createElement("button");d.type="submit",d.textContent="Signup",d.style.width="100%",d.style.padding="20px",d.style.backgroundColor="#4CAF50",d.style.color="white",d.style.border="none",d.style.borderRadius="3px",d.style.fontSize="16px",d.style.marginTop="30px",d.style.cursor="pointer",e.appendChild(d);var h=localStorage.getItem("tezkit_app_data"),f=JSON.parse(h);return e.addEventListener("submit",function(){var t=U(V().mark((function t(n){var r,a,i,c,s,l,u,p,d;return V().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),console.log("here will show rendererrorPopup",f.settings.version),"V1"===f.settings.version){t.next=6;break}le(["Only app version `V1` (CLOUD MANAGED) is allowed "]),t.next=52;break;case 6:return r=new FormData,a=JSON.parse(localStorage.getItem("global_settings")),i=a.multi_admin.enable,r.append("type","user_type"),(c=o.files[0])&&r.append("file",c,c.name),r.phone&&""!==r.phone.trim()&&r.append("phone",r.phone.trim()),r.append("tenant",f.tenant_id),r.append("password",e.password.value),r.append("full_name",e.full_name.value),r.append("email",e.email.value),r.append("gender",e.gender.value),r.append("app_name",f.app_name),r.append("role","65536"),r.append("type","user_type"),r.append("soc_server_ip","ws://admin.magicchat.io"),r.append("multi_admin",i),s={method:"POST",headers:{"X-API-Key":f.auth_key},body:r,redirect:"follow"},t.prev=25,t.next=28,fetch("https://auth.".concat("magicchat.io","/").concat("prod","/signup"),s);case 28:return l=t.sent,t.next=31,l.json();case 31:if(u=t.sent,console.log("Signup response:",u),!u.statusCode||200===u.statusCode){t.next=39;break}p="";try{d=JSON.parse(u.body||"{}"),p=d.error||"Something went wrong"}catch(e){p=u.body||"Unknown error"}return le(["Signup failed: ".concat(p)]),console.error("Signup failed:",p),t.abrupt("return");case 39:if(l.ok){t.next=43;break}return le("Signup failed: ",(null==u?void 0:u.error)||"Unknown server error"),console.error("Signup failed:",u),t.abrupt("return");case 43:H(),console.log("Signup success:",u),Q(),t.next=52;break;case 48:t.prev=48,t.t0=t.catch(25),le("An error occurred during signup: ",t.t0.message),console.error("Error:",t.t0);case 52:case"end":return t.stop()}}),t,null,[[25,48]])})));return function(e){return t.apply(this,arguments)}}()),e}();Y(e)}function Z(){$()}function $(){["tezkit_app_name","tezkit_api_key","tezkit_msgs_read_data","tezkit_msgs_unread_data","theme","tezkit_header_req","setup_done","redirect_uri","tezkit_app_data","tezkit_token","tezkit_me","tezkit_V4_uid_data","tezkit_bot_data","global_settings"].forEach((function(e){localStorage.removeItem(e)})),window.location.reload()}function ee(e,t){var n=document.createElement("button");return n.textContent=e,n.addEventListener("click",t),n}function te(e){var t={Signup:K,Login:Q,Logout:$}[e];return t?X(e,(function(){t()})):(console.error("No function mapped for name: ".concat(e)),null)}function ne(e){var t="header__"+ue,n=document.querySelector("."+t);n&&n.remove();var r=document.createElement("div"),o=localStorage.getItem("theme"),a=JSON.parse(o);a&&a.header_theme&&(r.style.backgroundColor=a.header_theme.backgroundColor,r.style.color=a.header_theme.textColor),r.classList.add(t);var i=document.createElement("div");i.classList.add(v.kb);var c=null,s=localStorage.getItem("tezkit_app_data");s&&(c=JSON.parse(s));var l=document.createElement("img");l.style.height="50px",l.style.marginRight="10px",i.appendChild(l);var u=document.createElement("div");c&&(u.textContent=c.tenant_id,c.tenant_info.image&&(l.src=c.tenant_info.image),l.alt=c.tenant_id+" Logo"),u.style.display="inline-block",u.style.verticalAlign="middle",i.appendChild(u),r.appendChild(i);var p=document.createElement("div");p.classList.add(v.pG);var d=document.createElement("span");d.textContent="",d.style.cursor="pointer",d.addEventListener("click",R);var h=document.createElement("span");h.id="notification_num",h.textContent=0,h.style.cursor="pointer";var f=document.createElement("div");if(f.appendChild(d),f.appendChild(h),p.appendChild(f),e){var g=X("Logout",$);p.appendChild(g);var m=ee("My Profile",J);p.appendChild(m)}else p.appendChild(te("Login")),p.appendChild(te("Signup"));r.appendChild(p),document.body.prepend(r)}console.log("process.env.WS_SERVEsdfR","ws://admin.magicchat.io");var re=n(881),oe={};function ae(){ae=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var a=t&&t.prototype instanceof y?t:y,i=Object.create(a.prototype),c=new A(r||[]);return o(i,"_invoke",{value:S(e,n,c)}),i}function p(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var d="suspendedStart",h="suspendedYield",f="executing",g="completed",m={};function y(){}function v(){}function x(){}var b={};l(b,i,(function(){return this}));var _=Object.getPrototypeOf,w=_&&_(_(I([])));w&&w!==n&&r.call(w,i)&&(b=w);var k=x.prototype=y.prototype=Object.create(b);function E(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function C(e,t){function n(o,a,i,c){var s=p(e[o],e,a);if("throw"!==s.type){var l=s.arg,u=l.value;return u&&"object"==ie(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(u).then((function(e){l.value=e,i(l)}),(function(e){return n("throw",e,i,c)}))}c(s.arg)}var a;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return a=a?a.then(o,o):o()}})}function S(t,n,r){var o=d;return function(a,i){if(o===f)throw Error("Generator is already running");if(o===g){if("throw"===a)throw i;return{value:e,done:!0}}for(r.method=a,r.arg=i;;){var c=r.delegate;if(c){var s=L(c,r);if(s){if(s===m)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===d)throw o=g,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=f;var l=p(t,n,r);if("normal"===l.type){if(o=r.done?g:h,l.arg===m)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(o=g,r.method="throw",r.arg=l.arg)}}}function L(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,L(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var a=p(o,t.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,m;var i=a.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,m):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function I(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}throw new TypeError(ie(t)+" is not iterable")}return v.prototype=x,o(k,"constructor",{value:x,configurable:!0}),o(x,"constructor",{value:v,configurable:!0}),v.displayName=l(x,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,x):(e.__proto__=x,l(e,s,"GeneratorFunction")),e.prototype=Object.create(k),e},t.awrap=function(e){return{__await:e}},E(C.prototype),l(C.prototype,c,(function(){return this})),t.AsyncIterator=C,t.async=function(e,n,r,o,a){void 0===a&&(a=Promise);var i=new C(u(e,n,r,o),a);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},E(k),l(k,s,"Generator"),l(k,i,(function(){return this})),l(k,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=I,A.prototype={constructor:A,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(j),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return c.type="throw",c.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var s=r.call(i,"catchLoc"),l=r.call(i,"finallyLoc");if(s&&l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,m):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),j(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;j(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:I(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),m}},t}function ie(e){return ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ie(e)}function ce(e,t,n,r,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function se(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){ce(a,r,o,i,c,"next",e)}function c(e){ce(a,r,o,i,c,"throw",e)}i(void 0)}))}}function le(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"error",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(e&&0!==e.length){var a={error:{backgroundColor:"#fbc5c5",borderColor:"#f8a4a4",title:"Error(s) Occurred",icon:""},warning:{backgroundColor:"#ffcc00",borderColor:"#e6b800",title:" Warning"},success:{backgroundColor:"#4CAF50",borderColor:"#3e8e41",title:" Success"},info:{backgroundColor:"#2196F3",borderColor:"#0b7dda",title:" Information"}},i=a[n]||a.error,c=i.backgroundColor,s=i.borderColor,l=i.title,u=i.icon,p=document.createElement("div");p.className=re.UE;var d=document.createElement("div");d.className=re.xW;var h=document.createElement("div");h.className=re.RQ,h.style.backgroundColor=c,h.style.border="3px solid ".concat(s),h.innerHTML=u;var f=document.createElement("h3");f.textContent=l,d.appendChild(h),d.appendChild(f),p.appendChild(d);var g=document.createElement("div");g.className=o.popupMasgAction;var m=document.createElement("ul");m.className=re.R6,e.forEach((function(e){var t=document.createElement("li");t.textContent=e,m.appendChild(t)})),g.appendChild(m);var y=document.createElement("div");y.style.marginTop="15px",y.style.display="flex",y.style.flexWrap="wrap",y.style.gap="10px",y.style.alignItems="center",y.style.justifyContent="center",t.forEach((function(e){y.appendChild(e)}));var v=document.createElement("button");v.className=re.mO,v.textContent="Close",v.addEventListener("click",(function(){p.classList.add(re.Vd);var e=function(){p.remove(),p.removeEventListener("animationend",e)};p.addEventListener("animationend",e),null!=r&&r()})),y.appendChild(v),g.appendChild(y),p.appendChild(g),document.body.prepend(p)}else console.error("No errors passed to error popup. Contact Admin.")}oe.styleTagTransform=y(),oe.setAttributes=h(),oe.insert=p().bind(null,"head"),oe.domAPI=l(),oe.insertStyleElement=g(),c()(re.Ay,oe),re.Ay&&re.Ay.locals&&re.Ay.locals,console.log("ansdfnsadfsdf?");var ue="j7hD9nXt3QpLvFz1uY6j7m2";function pe(e,t){return de.apply(this,arguments)}function de(){return(de=se(ae().mark((function e(t,n){var r,o,a,i;return ae().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("was it called??SDFSDFSDF",t,n),t&&n){e.next=3;break}throw new Error("app_name or api_key not provided to the client!");case 3:return console.log("arerewrewrew"),r="https://apps.".concat("magicchat.io","/").concat("prod","/get_app?act_type=user_type&app_name=").concat(t),o={Accept:"*/*","X-API-Key":n},e.next=8,fetch(r,{method:"GET",headers:o});case 8:if((a=e.sent).ok){e.next=11;break}throw new Error("API Error: ".concat(a.status," - ").concat(a.statusText));case 11:return e.next=13,a.json();case 13:return i=e.sent,console.log("APP DATA",i),e.abrupt("return",i);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function he(e,t){return fe.apply(this,arguments)}function fe(){return(fe=se(ae().mark((function e(t,n){var r,o,a,i;return ae().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("ensure tenant_id is tenant_id",n),(r=new Headers).append("x-api-key","bGVnYWwxMjNfX1NFUFJBVE9SX190ZXN0ZGRk"),o={method:"GET",headers:r,redirect:"follow"},e.prev=4,e.next=7,fetch("https://autobot.".concat("magicchat.io","/").concat("prod","/get_bot_content?app_name=").concat(t,"&tenant_id=").concat(n),o);case 7:return a=e.sent,e.next=10,a.json();case 10:return i=e.sent,console.log(i),e.abrupt("return",i);case 15:e.prev=15,e.t0=e.catch(4),console.error(e.t0);case 18:case"end":return e.stop()}}),e,null,[[4,15]])})))).apply(this,arguments)}function ge(e){return me.apply(this,arguments)}function me(){return(me=se(ae().mark((function e(t){var n,r,o;return ae().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("is it gone!!!"),n="https://auth.".concat("magicchat.io","/").concat("prod","/me"),e.prev=2,e.next=5,fetch(n,{method:"GET",headers:{Authorization:t,Accept:"*/*"}});case 5:if((r=e.sent).ok){e.next=8;break}throw new Error("Network response was not ok");case 8:return e.next=10,r.json();case 10:return o=e.sent,e.abrupt("return",o);case 14:throw e.prev=14,e.t0=e.catch(2),console.error("There was a problem with the fetch operation:",e.t0),e.t0;case 18:case"end":return e.stop()}}),e,null,[[2,14]])})))).apply(this,arguments)}function ye(e,t){return ve.apply(this,arguments)}function ve(){return(ve=se(ae().mark((function e(t,n){var r;return ae().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("if you see this log it was not mocked correctly!!! :: handleMissingAppData ",t,n),t&&n){e.next=5;break}console.error("app_name not provided to the client!"),e.next=18;break;case 5:return e.prev=5,console.log("dowe see any app_name1",t),e.next=9,pe(t,n);case 9:r=e.sent,console.log("what is this should wed nto reaiase ian ero",r),r&&r.statusCode&&200!=r.statusCode?le([JSON.parse(r.body).message||"An unknown error occurred","Or `api_key` is not correct for this `app_name`"]):localStorage.setItem("tezkit_app_data",JSON.stringify(r)),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(5),le([e.t0]),console.error("Error occurred!dfsdf",e.t0);case 18:case"end":return e.stop()}}),e,null,[[5,14]])})))).apply(this,arguments)}function xe(){return be.apply(this,arguments)}function be(){return(be=se(ae().mark((function e(){var t,n,r,o;return ae().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("were we in handleMissingBotData?"),!(t=localStorage.getItem("tezkit_app_data"))){e.next=13;break}if(n=JSON.parse(t),console.log("tezkit_app_pdasdffsdtafssadfsdf",n),!n.enabled_bot_content||"P2A"!=n.settings.app_type){e.next=11;break}return e.next=9,he(n.app_name,n.tenant_id);case 9:(r=e.sent).bot_payload?localStorage.setItem("tezkit_bot_data",JSON.stringify(r.bot_payload)):le(["Api failed kindly reload!"]);case 11:e.next=24;break;case 13:return e.prev=13,e.next=16,pe(app_name,api_key);case 16:o=e.sent,console.log("what is this should we nto reaiase ian ero",o),o&&o.statusCode&&200!=o.statusCode?le([JSON.parse(o.body).message||"An unknown error occurred","Or `api_key` is not correct for this `app_name`!"]):localStorage.setItem("tezkit_app_data",JSON.stringify(o)),e.next=24;break;case 21:e.prev=21,e.t0=e.catch(13),console.error("Error occurred!",e.t0);case 24:case"end":return e.stop()}}),e,null,[[13,21]])})))).apply(this,arguments)}var _e=n(422),we={};we.styleTagTransform=y(),we.setAttributes=h(),we.insert=p().bind(null,"head"),we.domAPI=l(),we.insertStyleElement=g(),c()(_e.A,we),_e.A&&_e.A.locals&&_e.A.locals;var ke=n(637),Ee={};Ee.styleTagTransform=y(),Ee.setAttributes=h(),Ee.insert=p().bind(null,"head"),Ee.domAPI=l(),Ee.insertStyleElement=g(),c()(ke.A,Ee),ke.A&&ke.A.locals&&ke.A.locals;var Ce=n(990),Se={};Se.styleTagTransform=y(),Se.setAttributes=h(),Se.insert=p().bind(null,"head"),Se.domAPI=l(),Se.insertStyleElement=g(),c()(Ce.A,Se),Ce.A&&Ce.A.locals&&Ce.A.locals;var Le=n(68),Oe={};Oe.styleTagTransform=y(),Oe.setAttributes=h(),Oe.insert=p().bind(null,"head"),Oe.domAPI=l(),Oe.insertStyleElement=g(),c()(Le.A,Oe);const je=Le.A&&Le.A.locals?Le.A.locals:void 0;var Ae=n(830),Ie={};Ie.styleTagTransform=y(),Ie.setAttributes=h(),Ie.insert=p().bind(null,"head"),Ie.domAPI=l(),Ie.insertStyleElement=g(),c()(Ae.A,Ie),Ae.A&&Ae.A.locals&&Ae.A.locals;const Te=n.p+"edef6e704ee092c77978.png",ze=n.p+"2c508187baaa3887f9df.png",Ne=n.p+"600f9286e44d7ebd718a.png";var Pe=n(461),Me={};function Fe(e){return Fe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fe(e)}function Ve(e,t,n){return(t=function(e){var t=function(e){if("object"!=Fe(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Fe(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Fe(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ge(){Ge=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var a=t&&t.prototype instanceof y?t:y,i=Object.create(a.prototype),c=new A(r||[]);return o(i,"_invoke",{value:S(e,n,c)}),i}function p(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var d="suspendedStart",h="suspendedYield",f="executing",g="completed",m={};function y(){}function v(){}function x(){}var b={};l(b,i,(function(){return this}));var _=Object.getPrototypeOf,w=_&&_(_(I([])));w&&w!==n&&r.call(w,i)&&(b=w);var k=x.prototype=y.prototype=Object.create(b);function E(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function C(e,t){function n(o,a,i,c){var s=p(e[o],e,a);if("throw"!==s.type){var l=s.arg,u=l.value;return u&&"object"==Fe(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(u).then((function(e){l.value=e,i(l)}),(function(e){return n("throw",e,i,c)}))}c(s.arg)}var a;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return a=a?a.then(o,o):o()}})}function S(t,n,r){var o=d;return function(a,i){if(o===f)throw Error("Generator is already running");if(o===g){if("throw"===a)throw i;return{value:e,done:!0}}for(r.method=a,r.arg=i;;){var c=r.delegate;if(c){var s=L(c,r);if(s){if(s===m)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===d)throw o=g,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=f;var l=p(t,n,r);if("normal"===l.type){if(o=r.done?g:h,l.arg===m)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(o=g,r.method="throw",r.arg=l.arg)}}}function L(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,L(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var a=p(o,t.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,m;var i=a.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,m):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function I(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}throw new TypeError(Fe(t)+" is not iterable")}return v.prototype=x,o(k,"constructor",{value:x,configurable:!0}),o(x,"constructor",{value:v,configurable:!0}),v.displayName=l(x,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,x):(e.__proto__=x,l(e,s,"GeneratorFunction")),e.prototype=Object.create(k),e},t.awrap=function(e){return{__await:e}},E(C.prototype),l(C.prototype,c,(function(){return this})),t.AsyncIterator=C,t.async=function(e,n,r,o,a){void 0===a&&(a=Promise);var i=new C(u(e,n,r,o),a);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},E(k),l(k,s,"Generator"),l(k,i,(function(){return this})),l(k,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=I,A.prototype={constructor:A,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(j),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return c.type="throw",c.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var s=r.call(i,"catchLoc"),l=r.call(i,"finallyLoc");if(s&&l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,m):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),j(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;j(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:I(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),m}},t}function Ue(e,t,n,r,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function Re(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){Ue(a,r,o,i,c,"next",e)}function c(e){Ue(a,r,o,i,c,"throw",e)}i(void 0)}))}}Me.styleTagTransform=y(),Me.setAttributes=h(),Me.insert=p().bind(null,"head"),Me.domAPI=l(),Me.insertStyleElement=g(),c()(Pe.Ay,Me),Pe.Ay&&Pe.Ay.locals&&Pe.Ay.locals;var De={"x-api-key":"bGVnYWwyNDdfX1NFUFJBVE9SX19teWZpcnN0UDJQR29kQkxlc3NJdA==","Content-Type":"application/json"};function Je(){console.log("[createModalContainer] Function called");var e="chatModal__".concat(ue);console.log("[createModalContainer] Generated modalId: ".concat(e));var t=document.getElementById(e);t?(console.log("[createModalContainer] Found existing modal with id: ".concat(e,", removing it")),t.remove()):console.log("[createModalContainer] No existing modal found with id: ".concat(e));var n=document.createElement("div");n.classList.add("chat_modal__".concat(ue)),n.id=e,console.log("[createModalContainer] Created new modal element with id: ".concat(e));var r=document.createElement("div");r.style.display="none",r.style.position="absolute",r.style.top="0",r.style.left="0",r.style.right="0",r.style.bottom="0",r.style.zIndex=2147483647,r.style.background="white",r.style.alignItems="center",r.style.justifyContent="center",r.setAttribute("id","full_cover_div"),console.log("show loader admin has updated the settings! just clear it all up from LS! "),console.log("[createModalContainer] Created full_cover_div with id: full_cover_div");var o=document.createElement("div");o.classList.add("closeChatModal"),o.setAttribute("id","closeChatModal");var a=document.createElement("i");return a.classList.add("fas","fa-chevron-down"),o.appendChild(a),n.appendChild(o),o.addEventListener("click",Re(Ge().mark((function e(){return Ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Pt(lt);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.error("Error cleaning up chatbox:",e.t0);case 8:o.remove();case 9:case"end":return e.stop()}}),e,null,[[0,5]])})))),n.appendChild(r),console.log("[createModalContainer] Appended full_cover_div to modal"),document.body.appendChild(n),console.log("[createModalContainer] Appended modal to document.body"),console.log("[createModalContainer] Returning modal element"),n}function Be(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=document.getElementById("unread_chat_msgs_num");t&&(t.textContent=String(e))}function We(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=document.createElement("button");return r.classList.add("bottomTabs"),n&&r.classList.add("active"),r.innerHTML='\n    <div class="footerIc"><i class="fa-solid fa-'.concat(t,'"></i></div> \n    ').concat(e,"\n  "),r}function qe(){return Ye.apply(this,arguments)}function Ye(){return(Ye=Re(Ge().mark((function e(){var t,n,r,o,a;return Ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0,i=localStorage.getItem("tezkit_app_data"),t=i?JSON.parse(i):null){e.next=3;break}return e.abrupt("return",[]);case 3:return n=t.settings.version,r="V1"!==n?pt.uid:pt.id,o=JSON.stringify({app_name:t.app_name,version:n,tenant:t.tenant_id,exclude_id:r}),e.prev=6,e.next=9,fetch("https://auth.".concat("magicchat.io","/").concat("prod","/users_list"),{method:"POST",headers:De,body:o});case 9:return a=e.sent,e.next=12,a.json();case 12:return e.abrupt("return",e.sent);case 15:return e.prev=15,e.t0=e.catch(6),console.error("Error fetching users:",e.t0),e.abrupt("return",[]);case 19:case"end":return e.stop()}var i}),e,null,[[6,15]])})))).apply(this,arguments)}function He(e,t,n,r){var o="V1"==t.settings.version?"id":"uid",a=document.createElement("div");a.classList.add(Pe.DV),a.id="user__".concat(e[o]);var i=document.createElement("div");i.textContent="V1"==t.settings.version?e.full_name:e.uid,a.appendChild(i);var c=document.createElement("div");c.id="unread__".concat(e[o]),a.appendChild(c);var s="user__".concat(e[o]);return lt.state.globalMsgsBucket[s]||(lt.state.globalMsgsBucket[s]={}),lt.state.globalMsgsBucket[s].input="",a.addEventListener("click",(function(){var a=e[o],i=document.getElementById("unread__".concat(a));console.log("Unread Div ID:",i.id),i.style.display="none",function(e,t,n,r){var o=document.querySelector(".chat_screen_top_wrapper");o.innerHTML="";var a=t.settings.version,i=String("V1"===a?e.id:e.uid),c="V1"==t.settings.version?"id":"uid";if(console.log("userIdsdfsdfsdf",i),lt.state.activeWindowObj=Ve(Ve(Ve({isLive:null,version:t.settings.version},c,String(i)),"input_type","user_type"),"user_name","V1"==t.settings.version?e.full_name:e.uid),lt.renderChatModal(t,n,i,r,ue),window.innerWidth<=768){var s=document.querySelector(".".concat(Pe.$7));s.style.display="none",o.style.display="flex";var l=document.getElementById("backButton");l&&(l.style.display="block",l.addEventListener("click",(function(){s.style.display="block",o.style.display="none"})))}var u=document.getElementById("unread__".concat(e.id));u&&(u.textContent="")}(e,t,n,r)})),a}function Qe(e,t,n,r,o){console.log("runs right of the bat!");var a="V1"===e.settings.version?"id":"uid",i="user__".concat(String(pt.tenant_info.id));lt.state.activeWindowObj=Ve(Ve(Ve(Ve({},a,String(pt.tenant_info.id)),"input_type","user_type"),"isLive",null),"user_name","some2"),lt.state.globalMsgsBucket[i]||(lt.state.globalMsgsBucket[i]={}),lt.state.globalMsgsBucket[i].input="",o?n.appendChild(function(){var o=document.createElement("div");o.classList.add("homeScreen");var a=document.createElement("div");a.classList.add("headContainer");var i=document.createElement("div");i.classList.add("headings");var c=document.createElement("div");c.classList.add("slanted-box");var s=document.createElement("div");s.classList.add("bgConent");var l=document.createElement("div");l.classList.add("bglogo");var u=document.createElement("img");u.src=ze,u.alt="img",u.classList.add("headingImg"),l.append(u);var p=document.createElement("h2");p.innerText="Hi there",Object.assign(p.style,{margin:"0",fontSize:"16px",fontWeight:"500"});var d=document.createElement("p");d.innerText="How can we help you?",Object.assign(d.style,{margin:"5px 0 15px",fontSize:"30px",fontWeight:"bold"}),s.append(l,p,d),i.append(c,s),a.appendChild(i);var h=document.createElement("div");h.classList.add("messageContainer");var f=document.createElement("div");f.classList.add("messageBox");var g=document.createElement("div"),m=document.createElement("strong");m.innerText="Recent message";var y=document.createElement("p");y.innerText="We typically reply in a few minutes";var v=document.createElement("div"),x=document.createElement("img");x.src=Te,x.alt="img",x.classList.add("resentSendMesgIc"),v.appendChild(x),g.append(m,y),f.append(g,v);var b=document.createElement("div");b.classList.add("questionBoxWrap");var _=document.createElement("button");_.classList.add("askQuestion"),_.innerText="Ask a question",_.addEventListener("click",(function(){lt.renderChatModal(e,t,r,n,ue),document.querySelector(".homeScreen").style.display="none"})),b.appendChild(_),h.append(f,b),a.appendChild(h),o.appendChild(a);var w=document.createElement("div");w.classList.add("footerDiv");var k=We("Home","fa-house-user",!0),E=We("Messages","fa-message"),C=document.createElement("span");return C.classList.add("notificationBadge"),C.innerHTML="1",E.appendChild(C),w.append(k,E),o.appendChild(w),o}()):lt.renderChatModal(e,t,r,n,ue)}function Xe(e,t,n){return Ke.apply(this,arguments)}function Ke(){return Ke=Re(Ge().mark((function e(t,n,r){var o,a,i,c,s,l,u,p;return Ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("wheroiwer?"),r.style.maxWidth="600px",(o=document.createElement("div")).classList.add(Pe.$7),r.appendChild(o),(a=document.createElement("div")).classList.add("chat_screen_top_wrapper"),a.style.display="flex",(i=document.createElement("img")).src=Ne,i.alt="welcome img",(c=document.createElement("div")).id="default_p2p_screen",c.className=Pe.aq,(s=document.createElement("h3")).innerHTML="Welcome to Magic Chat",(l=document.createElement("p")).innerHTML="Chat with your friends, share photo and video files fast with high quilty.",c.append(s,l),a.appendChild(i),a.append(c),r.appendChild(a),e.prev=23,e.next=26,qe();case 26:if((u=e.sent).length){e.next=33;break}return(p=document.createElement("div")).classList.add("noUsersList"),p.textContent="No users available.",o.appendChild(p),e.abrupt("return");case 33:return u.forEach((function(e){o.appendChild(He(e,t,n,r))})),e.next=36,Ze(t,u);case 36:e.next=41;break;case 38:e.prev=38,e.t0=e.catch(23),console.error("Error handling P2P:",e.t0);case 41:case"end":return e.stop()}}),e,null,[[23,38]])}))),Ke.apply(this,arguments)}function Ze(e,t){return $e.apply(this,arguments)}function $e(){return($e=Re(Ge().mark((function e(t,n){var r,o,a,i,c,s,l,u;return Ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,console.log("tezkit_app_pdatasdfsdf",t.settings.version),"V1"!=t.settings.version){e.next=12;break}return a=localStorage.getItem("tezkit_token"),e.next=6,fetch("https://chats.".concat("magicchat.io","/").concat("prod","/all_chats?app_name=").concat(t.app_name,"&page=1&unread=True&app_type=").concat(t.settings.app_type,"&user_type=CLIENT"),{method:"GET",headers:{Authorization:a}});case 6:return i=e.sent,e.next=9,i.json();case 9:e.sent,e.next=21;break;case 12:return c=localStorage.getItem("tezkit_api_key"),console.log("chat_core.state.activeWindowObjsdfsdf",lt.state),s=JSON.parse(localStorage.getItem("tezkit_me")),e.next=17,fetch("https://chats.".concat("magicchat.io","/").concat("prod","/all_chats?app_name=").concat(t.app_name,"&page=1&unread=True&app_type=").concat(t.settings.app_type,"&user_type=CLIENT&uid=").concat(s.uid),{method:"GET",headers:{"x-api-key":c}});case 17:return l=e.sent,e.next=20,l.json();case 20:o=e.sent;case 21:u=(null===(r=o)||void 0===r||null===(r=r.chats)||void 0===r?void 0:r[t.app_name])||{},n.forEach((function(e){var t="user__".concat(e.id),n=u[t],r=document.getElementById("unread__".concat(e.id));(null==n?void 0:n.unread_msgs)>0&&r&&(r.textContent=n.unread_msgs,r.classList.add("unreadMag"))})),e.next=28;break;case 25:e.prev=25,e.t0=e.catch(0),console.error("Error updating unread counts:",e.t0);case 28:case"end":return e.stop()}}),e,null,[[0,25]])})))).apply(this,arguments)}function et(e,t,n,r,o){return tt.apply(this,arguments)}function tt(){return tt=Re(Ge().mark((function e(t,n,r,o,a){var i,c,s,l=arguments;return Ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=l.length>5&&void 0!==l[5]&&l[5],c=l.length>6&&void 0!==l[6]&&l[6],e.prev=2,null!=t&&t.settings){e.next=6;break}return console.error("Invalid tezkit_app_pdata"),e.abrupt("return");case 6:if(console.log("createActualChatWindowsdfsd"),s=Je(),Be(0),console.log("arewehere when clicked?"),!c){e.next=15;break}return lt.renderChatModal(t,o,a,s,ue,c),e.abrupt("return");case 15:"P2A"===t.settings.app_type?Qe(t,o,s,a,i):Xe(t,o,s);case 16:e.next=21;break;case 18:e.prev=18,e.t0=e.catch(2),console.error("Error creating chat window:",e.t0);case 21:case"end":return e.stop()}}),e,null,[[2,18]])}))),tt.apply(this,arguments)}function nt(e,t){return rt.apply(this,arguments)}function rt(){return rt=Re(Ge().mark((function e(t,n){var r,o,a,i,c,s,l,u,p,d,h,f,g=arguments;return Ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=g.length>2&&void 0!==g[2]&&g[2],o=localStorage.getItem("theme"),a=o?JSON.parse(o):null,(i=document.createElement("div")).id="chat_modal_opener__".concat(ue),i.className=Pe.JG,null!=a&&a.chat_opener_theme&&(i.style.backgroundColor=a.chat_opener_theme.backgroundColor),(c=document.createElement("i")).classList.add("fas","fa-comments"),Object.assign(c.style,{color:"#fff",fontSize:"24px"}),(s=document.createElement("div")).id="unread_chat_msgs_num",Object.assign(s.style,{position:"absolute",top:"-5px",right:"-5px",backgroundColor:"red",color:"white",borderRadius:"50%",padding:"5px 10px",fontSize:"12px"}),s.textContent="0",null!=a&&a.chat_opener_theme&&(s.style.color=a.chat_opener_theme.textColor),i.appendChild(c),i.appendChild(s),r){e.next=43;break}if(l=localStorage.getItem("tezkit_token"),u=t.settings,p=u.version,"P2A"!==(d=u.app_type)||"V1"!=p){e.next=29;break}return e.next=23,lt.getUnreadMsgsP2AV1(l,t.app_name,d,p);case 23:if(e.t0=e.sent,e.t0){e.next=26;break}e.t0="0";case 26:s.textContent=e.t0,e.next=43;break;case 29:if("P2A"!==d||"V1"==p){e.next=38;break}return e.next=32,lt.getUnreadMsgsP2ANONV1(t.app_name,d,t.tenant_info.id);case 32:if(e.t1=e.sent,e.t1){e.next=35;break}e.t1="0";case 35:s.textContent=e.t1,e.next=43;break;case 38:if("P2P"!==d||"V1"!==p){e.next=43;break}return e.next=41,lt.getUnreadMsgsP2P(l,t.app_name,p,!0);case 41:(h=e.sent)&&(f=Object.values(h).reduce((function(e,t){return e+(t.unread_msgs||0)}),0),s.textContent=f);case 43:return i.addEventListener("click",Re(Ge().mark((function e(){return Ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:lt.state.viewType="bot_chat",et(t,ht,a,n,t.tenant_info.id,void 0,r),i.classList.add(Pe.QY);case 2:case"end":return e.stop()}}),e)})))),e.abrupt("return",i);case 45:case"end":return e.stop()}}),e)}))),rt.apply(this,arguments)}function ot(e){return ot="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ot(e)}function at(){at=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var a=t&&t.prototype instanceof y?t:y,i=Object.create(a.prototype),c=new A(r||[]);return o(i,"_invoke",{value:S(e,n,c)}),i}function p(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var d="suspendedStart",h="suspendedYield",f="executing",g="completed",m={};function y(){}function v(){}function x(){}var b={};l(b,i,(function(){return this}));var _=Object.getPrototypeOf,w=_&&_(_(I([])));w&&w!==n&&r.call(w,i)&&(b=w);var k=x.prototype=y.prototype=Object.create(b);function E(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function C(e,t){function n(o,a,i,c){var s=p(e[o],e,a);if("throw"!==s.type){var l=s.arg,u=l.value;return u&&"object"==ot(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(u).then((function(e){l.value=e,i(l)}),(function(e){return n("throw",e,i,c)}))}c(s.arg)}var a;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return a=a?a.then(o,o):o()}})}function S(t,n,r){var o=d;return function(a,i){if(o===f)throw Error("Generator is already running");if(o===g){if("throw"===a)throw i;return{value:e,done:!0}}for(r.method=a,r.arg=i;;){var c=r.delegate;if(c){var s=L(c,r);if(s){if(s===m)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===d)throw o=g,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=f;var l=p(t,n,r);if("normal"===l.type){if(o=r.done?g:h,l.arg===m)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(o=g,r.method="throw",r.arg=l.arg)}}}function L(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,L(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var a=p(o,t.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,m;var i=a.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,m):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function I(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}throw new TypeError(ot(t)+" is not iterable")}return v.prototype=x,o(k,"constructor",{value:x,configurable:!0}),o(x,"constructor",{value:v,configurable:!0}),v.displayName=l(x,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,x):(e.__proto__=x,l(e,s,"GeneratorFunction")),e.prototype=Object.create(k),e},t.awrap=function(e){return{__await:e}},E(C.prototype),l(C.prototype,c,(function(){return this})),t.AsyncIterator=C,t.async=function(e,n,r,o,a){void 0===a&&(a=Promise);var i=new C(u(e,n,r,o),a);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},E(k),l(k,s,"Generator"),l(k,i,(function(){return this})),l(k,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=I,A.prototype={constructor:A,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(j),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return c.type="throw",c.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var s=r.call(i,"catchLoc"),l=r.call(i,"finallyLoc");if(s&&l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,m):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),j(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;j(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:I(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),m}},t}function it(e,t,n,r,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function ct(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){it(a,r,o,i,c,"next",e)}function c(e){it(a,r,o,i,c,"throw",e)}i(void 0)}))}}console.log("canyouisdfssdfdsdf?"),console.log("CSS Module loaded:",a),console.log("Client Activated!!asdfnbsdf!","ws://admin.magicchat.io"),console.log("Script got executed!!");var st,lt,ut={unread_msgs:[]},pt=null,dt={},ht=null;function ft(){return gt.apply(this,arguments)}function gt(){return(gt=ct(at().mark((function e(){return at().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:["tezkit_app_name","tezkit_api_key","tezkit_msgs_read_data","tezkit_msgs_unread_data","theme","tezkit_header_req","setup_done","redirect_uri","tezkit_app_data","tezkit_token","tezkit_me","global_settings","tezkit_bot_data","tezkit_V4_uid_data"].forEach((function(e){localStorage.removeItem(e)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}console.log("chat_coresdfsdsdfsdff1",lt);var mt=ct(at().mark((function e(){var t;return at().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("DEV_MODE:myfirst1","production"),e.prev=2,e.next=6,new Promise((function(e,t){console.log("process.easdfnv do we have dev & prod differences here????","production");var n=document.createElement("script");n.src="https://magicchat-core.github.io/prod-sscc-client-cdns/bundle.js",n.async=!0,n.onload=function(){console.log("ChatCore script loaded..");var n=setInterval((function(){if(window.magicChatCore){clearInterval(n);var t=window.magicChatCore,r=t.default||t;e(r)}}),100);setTimeout((function(){clearInterval(n),t(new Error("ChatCore failed to initialize in time"))}),5e3)},n.onerror=function(){return t(new Error("Failed to load ChatCore script from CDN"))},document.head.appendChild(n)}));case 6:t=e.sent,console.log("Loading ChatCore from CDN...",t),lt=new t(st),e.next=17;break;case 11:return console.log("Loading ChatCore from node_modules..."),e.next=14,Promise.resolve().then((function(){var e=new Error("Cannot find module 'chathead-consumer-client-core'");throw e.code="MODULE_NOT_FOUND",e}));case 14:e.t0=e.sent.default,e.t1=st,lt=new e.t0(e.t1);case 17:return console.log("ChatCore initialized:",lt),lt?console.log("ChatCore Methods Attached!"):console.error("ChatCore is not initialized yet!"),e.abrupt("return",lt);case 22:throw e.prev=22,e.t2=e.catch(2),console.error("Error loading ChatCore:",e.t2),e.t2;case 26:case"end":return e.stop()}}),e,null,[[2,22]])})))();function yt(){lt||console.warn("ChatCore is not ready yet!")}function vt(e){e&&localStorage.setItem("theme",e)}function xt(e,t,n,r,o){return bt.apply(this,arguments)}function bt(){return(bt=ct(at().mark((function e(t,n,r,o,a){return at().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:void 0!==t&&localStorage.setItem("tezkit_app_name",t),void 0!==n&&localStorage.setItem("tezkit_api_key",n),void 0!==r&&vt(r),void 0!==o&&localStorage.setItem("tezkit_header_req",JSON.stringify(o)),void 0!==a&&localStorage.setItem("redirect_uri",a),void 0===t&&void 0===n&&void 0===r&&void 0===o&&void 0===a||localStorage.setItem("setup_done","true");case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _t(e,t){return wt.apply(this,arguments)}function wt(){return(wt=ct(at().mark((function e(t,n){var r,o;return at().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("appnamesdfsdfs",t,n),!(r=localStorage.getItem("tezkit_app_data"))){e.next=7;break}if((o=JSON.parse(r)).auth_key!==n&&le(["Wrong `api_key` found in credentials. Please correct themitsms and log out and log in again."]),o.app_name===t){e.next=7;break}throw new Error("Wrong `app_name` found in credentials. Please correct them.");case 7:if(t&&n){e.next=9;break}throw new Error("App name or API key is missing.");case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function kt(e,t){return Et.apply(this,arguments)}function Et(){return Et=ct(at().mark((function e(t,n){var r,o,a,i,c,s,l,u,p,d,h,f=arguments;return at().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=!(f.length>2&&void 0!==f[2])||f[2],e.prev=1,e.next=4,_t(t,n);case 4:return e.next=6,ye(t,n);case 6:return e.next=8,xe();case 8:return o=JSON.parse(localStorage.getItem("tezkit_app_data")),e.next=11,Ct(o.tenant_info.id);case 11:if(a=e.sent,localStorage.setItem("global_settings",JSON.stringify(a)),"true"===localStorage.getItem("setup_done")){e.next=31;break}if(!(i=localStorage.getItem("tezkit_app_data"))){e.next=20;break}return Nt(c=JSON.parse(i)),e.next=20,xt(t,n,JSON.stringify(c.chat_settings.theme),r,c.chat_settings.redirect_uri);case 20:return e.next=22,_t(t,n);case 22:console.log("Setup completed??!",JSON.stringify(JSON.parse(localStorage.getItem("tezkit_app_data")))),s=localStorage.getItem("tezkit_app_data"),l=JSON.parse(s),JSON.stringify(l.chat_settings.theme),l.chat_settings.redirect_uri,localStorage.getItem("tezkit_token"),console.log("MARKEREWRE1"),e.next=36;break;case 31:for(JSON.parse(localStorage.getItem("tezkit_header_req")),localStorage.getItem("tezkit_app_data"),localStorage.getItem("tezkit_token"),console.log("MARKEREWRE2 did it ran mutliple times?"),u=0;u<localStorage.length;u++)p=localStorage.key(u),d=localStorage.getItem(p),console.log("sdfsdfsdafsdafsadfuy".concat(p,": ").concat(d));case 36:console.log("object"),e.next=51;break;case 39:e.prev=39,e.t0=e.catch(1),console.error("Failed to set up localStorage:dfataer",e.t0.message),(h=document.createElement("button")).textContent="Reset Settings",h.style.cssText="\n    padding: 10px 20px;\n    background-color: #4a7feb;\n    color: white;\n    border: none;\n    border-radius: 5px;\n    font-size: 16px;\n    cursor: pointer;\n    transition: background-color 0.3s ease, transform 0.2s ease;\n",h.addEventListener("mouseover",(function(){h.style.backgroundColor="#0056b3"})),h.addEventListener("mouseout",(function(){h.style.backgroundColor="#007BFF"})),h.addEventListener("mousedown",(function(){h.style.transform="scale(0.95)"})),h.addEventListener("mouseup",(function(){h.style.transform="scale(1)"})),h.addEventListener("click",(function(){Z()})),le([e.t0.message],[h],"error");case 51:case"end":return e.stop()}}),e,null,[[1,39]])}))),Et.apply(this,arguments)}var Ct=function(){var e=ct(at().mark((function e(t){var n,r;return at().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("checkIfMultiAdmin  tenant_id:",t),e.prev=1,e.next=4,fetch("https://ppp.".concat("magicchat.io","/").concat("prod","/get_global_settings?tenant_id=").concat(t),{method:"GET",redirect:"follow"});case 4:if((n=e.sent).ok){e.next=7;break}throw new Error("HTTP ".concat(n.status));case 7:return e.next=9,n.json();case 9:return r=e.sent,console.log("Multiadmin settings:",r),e.abrupt("return",r.data);case 14:return e.prev=14,e.t0=e.catch(1),console.error("checkIfMultiAdmin error:",e.t0),e.abrupt("return",null);case 18:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(t){return e.apply(this,arguments)}}();function St(e){return Lt.apply(this,arguments)}function Lt(){return(Lt=ct(at().mark((function e(t){var n,r,o,a,i,c;return at().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,"true"===localStorage.getItem("setup_done")){e.next=4;break}throw new Error("`initialize` ran before `setUp` could finish.");case 4:return console.log("dow ehave any payload here?",t),n=Ot(t),e.next=8,mt;case 8:return window.addEventListener("resize",yt),r=jt("tezkit_app_data"),a=(o=r||{}).settings,i=o.tenant_id,c=o.app_name,e.next=13,j(n,r,null==a?void 0:a.app_type,null==a?void 0:a.version,i,c);case 13:return(pt=e.sent)&&lt&&(At(r),It(pt,a)),console.log("sssssssssssssssssdfsdfsdf"),e.next=18,Tt(pt,r);case 18:e.next=24;break;case 20:e.prev=20,e.t0=e.catch(0),console.error("Initialization failed:",e.t0),le([e.t0.message||"An unknown error occurred."]);case 24:case"end":return e.stop()}}),e,null,[[0,20]])})))).apply(this,arguments)}function Ot(e){if("object"!==ot(e)||null===e)return null;switch(e.app_version){case"V1":return localStorage.getItem("tezkit_token");case"V2":case"V3":if(!e.uid)throw new Error("version `V2` requires `uid` to be passed along");return{uid:e.uid};case"V4":return{uid:"NO_AUTH_REQUIRED"};default:return null}}function jt(e){var t=localStorage.getItem(e);return t?JSON.parse(t):null}function At(e){console.log("areweeven here?");var t=localStorage.getItem("tezkit_token"),n=jt("tezkit_header_req");!function(e,t,n){if(console.log(">>> headerHandler called"),console.log("Input - tezkit_app_data:",e),console.log("Input - token:",t),console.log("Input - tezkit_header_req_p:",n),e){console.log("tezkit_app_data exists, parsing...");var r=JSON.parse(e);if(console.log("Parsed tezkit_app_p_data:",r),"V1"==r.settings.version)if(console.log("App version is V1"),t)if(console.log("Token found:",t),!1===n){console.log("tezkit_header_req_p is FALSE -> Render Logout/MyProfile buttons");var o=document.getElementById("tezkit-auth-area"),a=te("Logout"),i=ee("My Profile",(function(e){console.log("My Profile button clicked",e),J(e)}));o.appendChild(a),console.log("Logout button appended"),o.appendChild(i),console.log("My Profile button appended")}else console.log("tezkit_header_req_p is TRUE -> Render Auth Header (authenticated)"),ne(t);else if(console.log("No token present"),!1===n){console.log("tezkit_header_req_p is FALSE -> Render Signup/Login buttons");var c=document.getElementById("tezkit-auth-area"),s=te("Signup");c.appendChild(s),console.log("Signup button appended");var l=te("Login");c.appendChild(l),console.log("Login button appendedF")}else console.log("tezkit_header_req_p is TRUE -> Render Auth Header (unauthenticated)"),ne();else console.log("App version is NOT V1, skipping special handling")}else if(console.log("No tezkit_app_data found"),n)console.log("tezkit_header_req_p is TRUE -> Render Auth Header (no app data)"),ne();else if(!1===n){console.log("tezkit_header_req_p is FALSE -> Render Signup/Login buttons (no app data)");var u=document.getElementById("tezkit-auth-area"),p=te("Signup");u.appendChild(p),console.log("Signup button appended (no app data)");var d=te("Login");u.appendChild(d),console.log("Login button appended (no app data)")}else console.log("tezkit_header_req_p is neither TRUE nor FALSE (undefined/null?)");console.log("<<< headerHandler execution finished")}(JSON.stringify(e),t,n)}function It(e,t){lt.state.loggedInUser=e,lt.init(e,dt),lt.awayHandler(e,t.app_type,t.version,dt,lt)}function Tt(e,t){return zt.apply(this,arguments)}function zt(){return(zt=ct(at().mark((function e(t,n){var r;return at().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ht||!t){e.next=7;break}return e.next=3,nt(n,st);case 3:ht=e.sent,document.body.appendChild(ht),e.next=15;break;case 7:if(ht||t){e.next=15;break}if(console.log("arewehere?sdfsdfsfjhtgfhjg"),At(n),"P2A"!==(null==n||null===(r=n.settings)||void 0===r?void 0:r.app_type)){e.next=15;break}return e.next=13,nt(n,st,!0);case 13:ht=e.sent,document.body.appendChild(ht);case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Nt(e){"V1"===e.settings.version?dt.name_idn="id":["V2","V3","V4"].includes(e.settings.version)&&(dt.name_idn="uid")}function Pt(e){var t;null===(t=document.querySelector(".chat_modal__".concat(ue)))||void 0===t||t.remove(),e.closeChatBox()}function Mt(e,t,n){return Ft.apply(this,arguments)}function Ft(){return(Ft=ct(at().mark((function e(t,n,r){var o,a,i;return at().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o=JSON.parse(localStorage.getItem("tezkit_header_req")),a=JSON.parse(localStorage.getItem("tezkit_app_data")),console.log("tezkit_header_reqdsfsdf",o),r.forEach((function(e){localStorage.removeItem(e)})),localStorage.setItem("setup_done",null),e.next=8,kt(t,n,o);case 8:if("V1"!==a.settings.version){e.next=14;break}if(!(i=localStorage.getItem("tezkit_token")||null)){e.next=14;break}return console.log("this never happens???"),e.next=14,St(i);case 14:setTimeout((function(){window.location.reload()}),1e3),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(0),console.error("Failed to set up localStorage:dfataer",e.t0.message);case 20:case"end":return e.stop()}}),e,null,[[0,17]])})))).apply(this,arguments)}return r})()));